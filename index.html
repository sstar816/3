<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹ ì„ í˜œ ì„ ìƒë‹˜ì˜ ê¿ˆë‚˜ë¬´ í•™ìŠµí„°</title>
    <link rel="stylesheet" href="style.css">
    <meta name="description" content="ì´ˆë“±í•™ìƒì„ ìœ„í•œ ë§ì¶¤í˜• í•™ìŠµ ìë£Œì™€ ê¶ê¸ˆí•œ ì ì„ ë¬¼ì–´ë³¼ ìˆ˜ ìˆëŠ” ìŠ¤ë§ˆíŠ¸ ì±—ë´‡ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.">
</head>

<body>

    <header>
        <div class="header-top">
            <div class="logo">
                <img src="elementary_study_mascot_1768540256040.png" alt="Mascot">
                <span>ì‹ ì„ í˜œ ì„ ìƒë‹˜ì˜ ê¿ˆë‚˜ë¬´ í•™ìŠµí„°</span>
            </div>
        </div>
        <nav>
            <ul id="main-nav">
                <li><button class="active" onclick="filterBySubject('all')">ì „ì²´ë³´ê¸°</button></li>
                <li><button onclick="filterBySubject('êµ­ì–´')">êµ­ì–´</button></li>
                <li><button onclick="filterBySubject('ìˆ˜í•™')">ìˆ˜í•™</button></li>
                <li><button onclick="filterBySubject('ì‚¬íšŒ')">ì‚¬íšŒ</button></li>
                <li><button onclick="filterBySubject('ê³¼í•™')">ê³¼í•™</button></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h1>ì‹ ë‚˜ëŠ” ê³µë¶€ ì‹œê°„! ğŸš€</h1>
            <p>ê¶ê¸ˆí•œ ê³¼ëª©ì„ ì„ íƒí•˜ê³  í•™ìŠµ ìë£Œë¥¼ ì°¾ì•„ë³´ì„¸ìš”. ëª¨ë¥´ëŠ” ê²Œ ìˆìœ¼ë©´ ì±—ë´‡ì—ê²Œ ë¬¼ì–´ë´!</p>
        </section>

        <div class="grid" id="learning-grid">
            <!-- Cards will be injected here -->
        </div>
    </main>

    <!-- Chatbot Toggle -->
    <div class="chat-toggle" onclick="toggleChat()" id="chat-toggle">
        ğŸ’¬
    </div>

    <!-- Chatbot Window -->
    <div class="chat-container" id="chat-window">
        <div class="chat-header">
            <h2>ğŸ¤– ê³µë¶€ ë„ì™€ë¯¸</h2>
            <button class="chat-close" onclick="toggleChat()">Ã—</button>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="message bot"> ì•ˆë…•! ë‚˜ëŠ” ê³µë¶€ ë„ì™€ë¯¸ì•¼. ë¬´ì—‡ì´ë“  ë¬¼ì–´ë´! (ì˜ˆ: "ìˆ˜í•™ ë‚˜ëˆ—ì…ˆì— ëŒ€í•´ ì•Œë ¤ì¤˜", "êµ­ì–´ ì½ê¸°ë¥¼ ì˜í•˜ë ¤ë©´?")</div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" placeholder="ì—¬ê¸°ì— ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”..." onkeypress="handleKeyPress(event)">
            <button onclick="sendMessage()">ë³´ë‚´ê¸°</button>
        </div>
    </div>

    <script>
        // Data from curriculum.ttl parsed into JSON
        const curriculumData = [
            // êµ­ì–´
            { id: "2êµ­01-01", subject: "êµ­ì–´", description: "ì¤‘ìš”í•œ ë‚´ìš©ì´ë‚˜ ì¼ì´ ì¼ì–´ë‚œ ìˆœì„œë¥¼ ê³ ë ¤í•˜ë©° ë“£ê³  ë§í•œë‹¤.", resource: "ì´ì•¼ê¸° ë“£ê³  ìˆœì„œ ì •ë¦¬í•˜ê¸°", url: "https://primary.ebs.co.kr" },
            { id: "2êµ­01-02", subject: "êµ­ì–´", description: "ë°”ë¥´ê³  ê³ ìš´ ë§ë¡œ ì„œë¡œì˜ ê°ì •ì„ ë‚˜ëˆ„ë©° ë“£ê³  ë§í•œë‹¤.", resource: "ê³ ìš´ ë§ ì‚¬ìš© ëŒ€í™” í™œë™", url: "https://primary.ebs.co.kr" },
            { id: "2êµ­01-03", subject: "êµ­ì–´", description: "ìƒëŒ€ì˜ ë§ì„ ì§‘ì¤‘í•˜ì—¬ ë“£ê³  ë§ì°¨ë¡€ë¥¼ ì§€í‚¤ë©° ëŒ€í™”í•œë‹¤.", resource: "ë§ì°¨ë¡€ ì§€í‚¤ê¸° ëŒ€í™” ì—°ìŠµ", url: "https://primary.ebs.co.kr" },
            { id: "2êµ­01-04", subject: "êµ­ì–´", description: "ìì‹ ì˜ ê²½í—˜ì´ë‚˜ ìƒê°ì„ ë°”ë¥¸ ìì„¸ë¡œ ë°œí‘œí•œë‹¤.", resource: "ê²½í—˜ ë°œí‘œí•˜ê¸° í™œë™ ìë£Œ", url: "https://primary.ebs.co.kr" },
            { id: "2êµ­01-05", subject: "êµ­ì–´", description: "ë“£ê¸°ì™€ ë§í•˜ê¸°ì— ê´€ì‹¬ê³¼ í¥ë¯¸ë¥¼ ê°€ì§„ë‹¤.", resource: "ë“£ê¸°Â·ë§í•˜ê¸° í¥ë¯¸ í™œë™", url: "https://primary.ebs.co.kr" },
            { id: "2êµ­02-01", subject: "êµ­ì–´", description: "ê¸€ì, ë‹¨ì–´, ë¬¸ì¥, ì§§ì€ ê¸€ì„ ì •í™•í•˜ê²Œ ì†Œë¦¬ ë‚´ì–´ ì½ëŠ”ë‹¤.", resource: "ì†Œë¦¬ ë‚´ì–´ ì •í™•íˆ ì½ê¸°", url: "https://primary.ebs.co.kr" },
            { id: "2êµ­02-02", subject: "êµ­ì–´", description: "ë¬¸ì¥ê³¼ ì§§ì€ ê¸€ì„ ì•Œë§ê²Œ ë„ì–´ ì½ëŠ”ë‹¤.", resource: "ë„ì–´ ì½ê¸° ì—°ìŠµ ìë£Œ", url: "https://primary.ebs.co.kr" },
            { id: "2êµ­02-03", subject: "êµ­ì–´", description: "ê¸€ì„ ì½ê³  ì¤‘ì‹¬ ë‚´ìš©ì„ í™•ì¸í•œë‹¤.", resource: "ì¤‘ì‹¬ ë‚´ìš© ì°¾ê¸° í™œë™", url: "https://primary.ebs.co.kr" },
            { id: "2êµ­02-04", subject: "êµ­ì–´", description: "ì¸ë¬¼ì˜ ë§ˆìŒì´ë‚˜ ìƒê°ì„ ì§ì‘í•˜ë©° ê¸€ì„ ì½ëŠ”ë‹¤.", resource: "ì¸ë¬¼ì˜ ë§ˆìŒ ì§ì‘í•˜ê¸°", url: "https://primary.ebs.co.kr" },
            { id: "2êµ­02-05", subject: "êµ­ì–´", description: "ì½ê¸°ì— í¥ë¯¸ë¥¼ ê°€ì§€ê³  ì¦ê²¨ ì½ëŠ” íƒœë„ë¥¼ ì§€ë‹Œë‹¤.", resource: "ì¦ê±°ìš´ ë…ì„œ ìŠµê´€ ê¸°ë¥´ê¸°", url: "https://primary.ebs.co.kr" },
            // ìˆ˜í•™
            { id: "2ìˆ˜01-05", subject: "ìˆ˜í•™", description: "ë§ì…ˆê³¼ ëº„ì…ˆì˜ ì˜ë¯¸ë¥¼ ì‹¤ìƒí™œê³¼ ì—°ê²°í•˜ì—¬ ì´í•´í•œë‹¤.", resource: "ì‹¤ìƒí™œ ë§ì…ˆÂ·ëº„ì…ˆ ë¬¸ì œ", url: "https://primary.ebs.co.kr" },
            { id: "2ìˆ˜01-06", subject: "ìˆ˜í•™", description: "ë‘ ìë¦¬ ìˆ˜ì˜ ë§ì…ˆê³¼ ëº„ì…ˆ ê³„ì‚° ì›ë¦¬ë¥¼ ì´í•´í•œë‹¤.", resource: "ë‘ ìë¦¬ ìˆ˜ ì—°ì‚° í•™ìŠµ", url: "https://primary.ebs.co.kr" },
            { id: "2ìˆ˜01-07", subject: "ìˆ˜í•™", description: "ë§ì…ˆê³¼ ëº„ì…ˆì˜ ê´€ê³„ë¥¼ ì´í•´í•œë‹¤.", resource: "ë§ì…ˆÂ·ëº„ì…ˆ ê´€ê³„ íƒêµ¬", url: "https://primary.ebs.co.kr" },
            { id: "2ìˆ˜01-08", subject: "ìˆ˜í•™", description: "ì„¸ ìˆ˜ì˜ ë§ì…ˆê³¼ ëº„ì…ˆì„ í•  ìˆ˜ ìˆë‹¤.", resource: "ì„¸ ìˆ˜ì˜ ê³„ì‚° ì—°ìŠµ", url: "https://primary.ebs.co.kr" },
            { id: "2ìˆ˜01-09", subject: "ìˆ˜í•™", description: "â–¡ê°€ ì‚¬ìš©ëœ ë§ì…ˆì‹ê³¼ ëº„ì…ˆì‹ì„ í•´ê²°í•œë‹¤.", resource: "â–¡ê°€ ìˆëŠ” ì‹ í•´ê²°í•˜ê¸°", url: "https://primary.ebs.co.kr" },
            { id: "4ìˆ˜01-05", subject: "ìˆ˜í•™", description: "ë‚˜ëˆ—ì…ˆì˜ ì˜ë¯¸ì™€ ê³±ì…ˆê³¼ì˜ ê´€ê³„ë¥¼ ì´í•´í•œë‹¤.", resource: "ë‚˜ëˆ—ì…ˆ ê°œë… í•™ìŠµ", url: "https://primary.ebs.co.kr" },
            { id: "4ìˆ˜01-06", subject: "ìˆ˜í•™", description: "ëª«ê³¼ ë‚˜ë¨¸ì§€ì˜ ì˜ë¯¸ë¥¼ ì•ˆë‹¤.", resource: "ëª«ê³¼ ë‚˜ë¨¸ì§€ ì´í•´í•˜ê¸°", url: "https://primary.ebs.co.kr" },
            { id: "4ìˆ˜01-07", subject: "ìˆ˜í•™", description: "ë‘ ìë¦¬ ìˆ˜ë¡œ ë‚˜ëˆ„ëŠ” ë‚˜ëˆ—ì…ˆì„ í•  ìˆ˜ ìˆë‹¤.", resource: "ë‘ ìë¦¬ ìˆ˜ ë‚˜ëˆ—ì…ˆ", url: "https://primary.ebs.co.kr" },
            { id: "4ìˆ˜01-09", subject: "ìˆ˜í•™", description: "ë¶„ìˆ˜ì˜ í•„ìš”ì„±ê³¼ ê°œë…ì„ ì´í•´í•œë‹¤.", resource: "ë¶„ìˆ˜ ê°œë… í•™ìŠµ", url: "https://primary.ebs.co.kr" },
            { id: "4ìˆ˜01-10", subject: "ìˆ˜í•™", description: "ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ë¶„ìˆ˜ë¥¼ ì•Œê³  ê·¸ ê´€ê³„ë¥¼ ì´í•´í•œë‹¤.", resource: "ë¶„ìˆ˜ì˜ ì¢…ë¥˜ì™€ ê´€ê³„", url: "https://primary.ebs.co.kr" },
            // ì‚¬íšŒ
            { id: "4ì‚¬03-01", subject: "ì‚¬íšŒ", description: "ìµœê·¼ ì‚¬íšŒ ë³€í™”ì™€ ìƒí™œ ëª¨ìŠµì˜ ë³€í™”ë¥¼ íƒìƒ‰í•œë‹¤.", resource: "ì‚¬íšŒ ë³€í™” íƒêµ¬ ìë£Œ", url: "https://www.edunet.net" },
            { id: "4ì‚¬03-02", subject: "ì‚¬íšŒ", description: "ë‹¤ì–‘í•œ ë¬¸í™”ë¥¼ ì¡´ì¤‘í•˜ëŠ” íƒœë„ë¥¼ ê¸°ë¥¸ë‹¤.", resource: "ë‹¤ë¬¸í™” ì´í•´ í•™ìŠµ ìë£Œ", url: "https://www.edunet.net" },
            { id: "4ì‚¬04-01", subject: "ì‚¬íšŒ", description: "ì˜›ë‚  í’ìŠµê³¼ ì˜¤ëŠ˜ë‚ ì„ ë¹„êµí•œë‹¤.", resource: "ì „í†µ ìƒí™œ íƒêµ¬", url: "https://www.edunet.net" },
            { id: "4ì‚¬04-02", subject: "ì‚¬íšŒ", description: "êµí†µì˜ ë³€í™”ì— ë”°ë¥¸ ìƒí™œ ë³€í™”ë¥¼ ì´í•´í•œë‹¤.", resource: "êµí†µìˆ˜ë‹¨ ë³€í™” í•™ìŠµ", url: "https://www.edunet.net" },
            { id: "4ì‚¬04-03", subject: "ì‚¬íšŒ", description: "í†µì‹ ìˆ˜ë‹¨ ë³€í™”ì— ë”°ë¥¸ ì˜ì‚¬ì†Œí†µ ë°©ì‹ì„ ì„¤ëª…í•œë‹¤.", resource: "í†µì‹ ìˆ˜ë‹¨ì˜ ë³€í™”", url: "https://www.edunet.net" },
            { id: "4ì‚¬08-01", subject: "ì‚¬íšŒ", description: "í•™êµ ìì¹˜ë¥¼ í†µí•´ ë¯¼ì£¼ì£¼ì˜ë¥¼ ì´í•´í•œë‹¤.", resource: "í•™êµ ë¯¼ì£¼ì£¼ì˜ ì‚¬ë¡€", url: "https://www.edunet.net" },
            { id: "4ì‚¬08-02", subject: "ì‚¬íšŒ", description: "ì§€ì—­ ì‚¬íšŒ ë¯¼ì£¼ì£¼ì˜ ì°¸ì—¬ë¥¼ ì´í•´í•œë‹¤.", resource: "ì§€ì—­ ìì¹˜ ì‚¬ë¡€", url: "https://www.edunet.net" },
            { id: "4ì‚¬09-01", subject: "ì‚¬íšŒ", description: "ìƒí™œ ë¬¸ì œë¥¼ í•©ë¦¬ì ìœ¼ë¡œ í•´ê²°í•œë‹¤.", resource: "ìƒí™œ ë¬¸ì œ í•´ê²° í•™ìŠµ", url: "https://www.edunet.net" },
            { id: "4ì‚¬10-01", subject: "ì‚¬íšŒ", description: "ìì—°í™˜ê²½ê³¼ ì¸ë¬¸í™˜ê²½ì„ íƒêµ¬í•œë‹¤.", resource: "í™˜ê²½ íƒêµ¬ í•™ìŠµ", url: "https://www.edunet.net" },
            { id: "4ì‚¬10-02", subject: "ì‚¬íšŒ", description: "ë„ì‹œì˜ íŠ¹ì§•ê³¼ ì‚¶ì˜ ëª¨ìŠµì„ ì´í•´í•œë‹¤.", resource: "ë„ì‹œ ìƒí™œ ì´í•´ ìë£Œ", url: "https://www.edunet.net" },
            // ê³¼í•™
            { id: "4ê³¼01-01", subject: "ê³¼í•™", description: "í˜ê³¼ ê´€ë ¨ëœ í˜„ìƒì„ ê´€ì°°í•œë‹¤.", resource: "í˜ê³¼ ìš´ë™ ê´€ì°°", url: "https://www.edunet.net" },
            { id: "4ê³¼01-02", subject: "ê³¼í•™", description: "ë¬¼ì²´ì˜ ë¬´ê²Œë¥¼ ë¹„êµí•œë‹¤.", resource: "ë¬´ê²Œ ë¹„êµ ì‹¤í—˜", url: "https://www.edunet.net" },
            { id: "4ê³¼01-03", subject: "ê³¼í•™", description: "ì €ìš¸ì„ ì‚¬ìš©í•´ ë¬´ê²Œë¥¼ ë¹„êµí•œë‹¤.", resource: "ì €ìš¸ ì‚¬ìš©ë²• í•™ìŠµ", url: "https://www.edunet.net" },
            { id: "4ê³¼01-04", subject: "ê³¼í•™", description: "ë„êµ¬ ì‚¬ìš©ì— ë”°ë¥¸ í˜ì˜ ë³€í™”ë¥¼ ì´í•´í•œë‹¤.", resource: "ê°„ë‹¨í•œ ê¸°ê³„ íƒêµ¬", url: "https://www.edunet.net" },
            { id: "4ê³¼02-01", subject: "ê³¼í•™", description: "ë™ë¬¼ì„ íŠ¹ì§•ì— ë”°ë¼ ë¶„ë¥˜í•œë‹¤.", resource: "ë™ë¬¼ ë¶„ë¥˜ í•™ìŠµ", url: "https://www.edunet.net" },
            { id: "4ê³¼02-02", subject: "ê³¼í•™", description: "ë™ë¬¼ì˜ ìƒí™œ ë°©ì‹ê³¼ í™˜ê²½ì˜ ê´€ê³„ë¥¼ ì„¤ëª…í•œë‹¤.", resource: "ë™ë¬¼ê³¼ í™˜ê²½", url: "https://www.edunet.net" },
            { id: "4ê³¼02-03", subject: "ê³¼í•™", description: "ë™ë¬¼ì˜ íŠ¹ì§•ì„ í™œìš©í•œ ìƒí™œìš©í’ˆì„ ì„¤ê³„í•œë‹¤.", resource: "ë™ë¬¼ ëª¨ë°© ì„¤ê³„ í™œë™", url: "https://www.edunet.net" },
            { id: "4ê³¼03-01", subject: "ê³¼í•™", description: "ì‹ë¬¼ì„ íŠ¹ì§•ì— ë”°ë¼ ë¶„ë¥˜í•œë‹¤.", resource: "ì‹ë¬¼ ë¶„ë¥˜ í•™ìŠµ", url: "https://www.edunet.net" },
            { id: "4ê³¼03-02", subject: "ê³¼í•™", description: "ì‹ë¬¼ì˜ ìƒê¹€ìƒˆì™€ í™˜ê²½ì˜ ê´€ê³„ë¥¼ ì„¤ëª…í•œë‹¤.", resource: "ì‹ë¬¼ê³¼ í™˜ê²½", url: "https://www.edunet.net" },
            { id: "4ê³¼03-03", subject: "ê³¼í•™", description: "ì‹ë¬¼ì˜ íŠ¹ì§•ì„ í™œìš©í•œ ìƒí™œìš©í’ˆì„ ì„¤ê³„í•œë‹¤.", resource: "ì‹ë¬¼ ëª¨ë°© ì„¤ê³„ í™œë™", url: "https://www.edunet.net" }
        ];

        function renderCards(data) {
            const grid = document.getElementById('learning-grid');
            grid.innerHTML = '';

            data.forEach(item => {
                const tagClass = getTagClass(item.subject);
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div>
                        <span class="subject-tag ${tagClass}">${item.subject}</span>
                        <h3>${item.description}</h3>
                        <span class="curriculum-id">[êµìœ¡ê³¼ì • ë²ˆí˜¸: ${item.id}]</span>
                    </div>
                    <a href="${item.url}" target="_blank" class="resource-link">${item.resource} ë³´ëŸ¬ê°€ê¸°</a>
                `;
                grid.appendChild(card);
            });
        }

        function getTagClass(subject) {
            switch (subject) {
                case 'êµ­ì–´': return 'tag-kor';
                case 'ìˆ˜í•™': return 'tag-math';
                case 'ì‚¬íšŒ': return 'tag-soc';
                case 'ê³¼í•™': return 'tag-sci';
                default: return '';
            }
        }

        function filterBySubject(subject) {
            // Update active button
            const buttons = document.querySelectorAll('#main-nav button');
            buttons.forEach(btn => {
                if (btn.innerText === subject || (subject === 'all' && btn.innerText === 'ì „ì²´ë³´ê¸°')) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            if (subject === 'all') {
                renderCards(curriculumData);
            } else {
                const filtered = curriculumData.filter(item => item.subject === subject);
                renderCards(filtered);
            }
        }

        // Chatbot Logic
        function toggleChat() {
            const chatWindow = document.getElementById('chat-window');
            chatWindow.classList.toggle('open');
        }

        function handleKeyPress(e) {
            if (e.key === 'Enter') sendMessage();
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;

            addMessage(message, 'user');
            input.value = '';

            setTimeout(() => {
                const response = getBotResponse(message);
                addMessage(response, 'bot');
            }, 600);
        }

        function addMessage(text, sender) {
            const container = document.getElementById('chat-messages');
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${sender}`;
            msgDiv.innerText = text;
            container.appendChild(msgDiv);
            container.scrollTop = container.scrollHeight;
        }

        function getBotResponse(query) {
            // Simple keyword search in curriculumData
            const keywords = query.split(' ');
            let bestMatch = null;
            let maxMatches = 0;

            for (const item of curriculumData) {
                let matches = 0;
                keywords.forEach(kw => {
                    if (item.description.includes(kw) || item.resource.includes(kw) || item.subject.includes(kw)) {
                        matches++;
                    }
                });
                if (matches > maxMatches) {
                    maxMatches = matches;
                    bestMatch = item;
                }
            }

            if (bestMatch && maxMatches > 0) {
                return `${bestMatch.subject} ê³¼ëª©ì—ì„œ '${bestMatch.resource}'ë¼ëŠ” ë‚´ìš©ì„ ì°¾ì•˜ì–´! \në‚´ìš©: ${bestMatch.description}`;
            } else {
                return "ìŒ... ê·¸ê±´ ì˜ ëª¨ë¥´ê² ì–´. ê³¼ëª© ì´ë¦„(êµ­ì–´, ìˆ˜í•™...)ì´ë‚˜ ë°°ìš°ê³  ì‹¶ì€ ë‚´ìš©(ë‚˜ëˆ—ì…ˆ, ë„ì–´ì“°ê¸°...)ì„ ë§í•´ì¤„ë˜?";
            }
        }

        // Initial render
        renderCards(curriculumData);
    </script>
</body>

</html>